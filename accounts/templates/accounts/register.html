<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>End2Friend - Register</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Varela+Round&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<body class="varela-round-regular">
    <section class="base-background min-h-screen flex items-center justify-center">
        <div class="flex flex-col items-center gap-4">
            <div class="flex login-title">
                <span class="material-symbols-outlined">
                    drone_2
                </span>
                <h1 class="pl-2">End2Friend</h1>
            </div>

            <!-- Form -->
            <div class="flex flex-col rounded-2xl shadow-lg w-[700px] p-8 bg-white">
                <form class="flex flex-col gap-2" method="post" action="{% url 'register' %}">
                    {% csrf_token %}

                    {% if form.non_field_errors %}
                    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 text-sm">
                        {{form.non_field_errors}}
                    </div>
                    {% endif %}

                    <h1 class="font-bold text-gray-900 text-center text-xl">Create Account</h1>
                    <h3 class="font-small text-gray-500 text-center">Sign up to get started.</h3>

                    <label for="username">Username</label>
                    <input
                        class="border-1 rounded-md border-gray-300 p-2 {% if form.username.errors %}is-invalid{% endif %}"
                        type="text" name="username" id="username" placeholder="Choose a username"
                        value="{{form.username.value|default_if_none:''}}" required>

                    <!-- Display username error -->
                    {% if form.username.errors %}
                    <div class="bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md">
                        <div class="flex items-center">
                            <span class="material-symbols-outlined">
                                error
                            </span>
                            <div class="pl-2">
                                {{form.username.errors}}
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    <label for="email">Email</label>
                    <input
                        class="border-1 rounded-md border-gray-300 p-2 {% if form.email.errors %}is-invalid{% endif %}"
                        value="{{form.email.value|default_if_none:''}}" type="email" name="email" id="email"
                        placeholder="Enter your email" required>

                    <!-- Display email error -->
                    {% if form.email.errors %}
                    <div class="bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md">
                        <div class="flex items-center">
                            <span class="material-symbols-outlined">
                                error
                            </span>
                            <div class="pl-2">
                                {{form.email.errors}}
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    <label for="password1">Password</label>
                    <input
                        class="border-1 rounded-md border-gray-300 p-2 {% if form.email.errors %}is-invalid{% endif %}"
                        value="{{form.password1.value|default_if_none:''}}" type="password" name="password1"
                        id="password1" placeholder="Create a password" required>

                    <!-- Display password1 error -->
                    {% if form.password1.errors %}
                    <div class="bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md">
                        <div class="flex items-center">
                            <span class="material-symbols-outlined">
                                error
                            </span>
                            <div class="pl-2">
                                {{form.password1.errors}}
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    <label for="password2">Confirm Password</label>
                    <input
                        class="border-1 rounded-md border-gray-300 p-2 {% if form.password2.errors %}is-invalid{% endif %}"
                        value="{{form.password2.value|default_if_none:''}}" type="password" name="password2"
                        id="password2" placeholder="Confirm your password" required>

                    <!-- Display password2 error -->
                    {% if form.password2.errors %}
                    <div class="bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md">
                        <div class="flex items-center">
                            <span class="material-symbols-outlined">
                                error
                            </span>
                            <div class="pl-2">
                                {{form.password2.errors}}
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    <button class="login-btn rounded-lg bg-blue-300 hover:bg-blue-400 text-center text-white p-3 mt-3"
                        type="submit">Sign up</button>
                </form>
                <p class="mt-5 text-xs border-t py-4 text-center">Already have an account?
                    <a href="{% url 'login' %}" class="text-blue-500">Sign in</a>
                </p>
            </div>
        </div>
    </section>
</body>

<style>
    .varela-round-regular {
        font-family: "Varela Round", sans-serif;
        font-weight: 400;
        font-style: normal;
    }

    .login-title {
        color: white;
    }

    .login-btn {
        transition: transform 0.5s;
    }

    .login-btn:hover {
        transform: translateY(-3px);
    }

    .base-background {
        background: #cad7db;
        background: radial-gradient(circle, rgba(202, 215, 219, 1) 0%, rgba(185, 200, 213, 1) 12%, rgba(174, 191, 210, 1) 20%, rgba(160, 179, 205, 1) 22%, rgba(132, 154, 196, 1) 36%, rgba(164, 180, 211, 1) 63%, rgba(203, 212, 230, 1) 79%, rgba(250, 251, 253, 1) 98%);
    }
</style>

</html>